language: objective-c
osx_image: xcode10.2.1
cache: bundler
before_script:
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/profile/Distribution_Navigate.mobileprovision.enc
  -d -a -out scripts/profile/Distribution_Navigate.mobileprovision
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.cer.enc -d -a
  -out scripts/certs/dist.cer
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.p12.enc -d -a
  -out scripts/certs/dist.p12
- "./scripts/add-key.sh"
- "./scripts/update-bundle.sh"
script:
- xcodebuild -project NikTravisCICD.xcodeproj -scheme NikTravisCICD -sdk iphoneos -configuration Release OBJROOT=$PWD/build SYMROOT=$PWD/build ONLY_ACTIVE_ARCH=NO HOCKEY_APP_ID=$HOCKEY_APP_ID
after_script:
- "./scripts/remove-key.sh"
after_success:
- "./scripts/sign-and-upload.sh"
env:
  global:
  - APP_NAME="NikTravisCICD"
  - 'DEVELOPER_NAME="iPhone Distribution: Nitin Pant (6LJ9Y6X5NU)"'
  - PROFILE_NAME="Distribution_Navigate"
  - INFO_PLIST="NikTravisCICD/Info.plist"
  - BUNDLE_DISPLAY_NAME="NikTravisCICD"
  - secure: j2LVktZ8KKbuwipyUwDeKYeCz2wiO0VYZouT9z4AMWMBEmMGZ4YGIXu/6l7No3JFov029ThDO9vTGsJL2wQI3UcxSErXbaBuUtLK3QdBWjQWA7eL4USmz59PtaNQV0Aatf6+NIrmLsXnQnr9ZCZuMF92GOJSNZS2DI1DPfSXQM/XsavwZgys2OFeW80sDz64/j2f6vbWL3Mm4mlnXGgoG/kTYOa2P0a0NPysqVKjSKZcsIT6kwyCXY5jl2V04AopDi5Qp65Y8ULgPmHZZVH8nLE6Nq87WBFLOCU7kz/H1oPs8E4M6BEcPy3afzljghqQzi6Kua1QHz/uQi1hiDpmNQhgNH9hvfIn2FSh3r1ipNtNbhuKxjhas2tcEknM1JDNoPlzKgyCUWCMJkjD+rH1OMnlp1HMwttS4mjbqshUs9YsARp3LEqClsbPVAS+WsZim+Q9sLN2h+/xjzVsDlvlmjI7U64/sYsbgTwwebYMYW8tkh8GEbeTxLL96Iz05hShzKJeCBpC05LjCy7jU2vsno6tCAGp2br1XKffjIuoa4QyZ05toWRAkIeeVkBZXoEf5xfIxJbarEw5VhnFTwO0EJL4AzrZdquNDAeF3N7Ns11Xzs0Onb2BCG41wWs41AhU3wYcovjJoSasm4539c+1nYvHmtipU4hFuXRERcUa6CI=
  - secure: rTjeygTtJ+YN90fVQU52uARA491QvQ5hPHsxIGmeZzBn31b63F2ShJbJzoeQ4dzoEtkmTI0ZMwlkToQg4Zabef7u1Gfl/trUJ1LutCKGVmCFM/8v/MSvRzvIlVRRK3u+dqRqBGkdCErvx6ubqgbUgV1wJO7KVVJBErukQGIQ34uFS3SlvjRadr1xjAUePNdLdEey5MJFL0MdJasjYQCV5Nm+uPGc3EciMWgtqEiosWMxdGOqPiRO8aKdkZ88mtvm3Hgx2OatLckaOZMJK/xDXAQtpVY+skMkBcXlQ8ZYaEjDJB6H3YqpfXB7KtQmkG+K66kajzvCByBvGLfDrrA7m+viOtqm3xXaXXR2O2iXgtroJqg9ogEhYR3Nr+9kB4l7Lj0/6gp6v4NND4FSBMHSeuECK2wxe0Y+yIQTIs6Z8CQWnIaKNmDrtWCjb0V6C5xz9ggpCtiu7LW50AvjfEW0YE1rpaBp7URPbaNOBOMG7BTHvFJ9caQJf8wllV2rG0oDMfgv32Fwh7GpPA8DpWN9SxE3ZZxG5TQJu3zShfhYRaD8xTSz5yKYSTk3jh2h+ItbHoo5LPte8mcc/ggCUU1fzib8gZWUDnI4PXRqWaH96qirn9nGGAG2b+HO15LDSUnA6pa8yVrWDOpdN69rlqD8AdcIfDjLoZdgC/+ICle6lVc=
  - secure: fASqGr4XbArK1cQgxackluIj6UJvis5iLvWabRqKDrRZ+jDaxPFWl1uxsugL6OsaA8a8lQKyIdT2pkabB2wIce22mP7I67snK/JXDYsCbXjU1/ldkuNxObgR6nNGX0xuy4PW8IAsHQwaNyuOVr0LmsC7M935P9rw4REwa7VcmbfwGZwu4cbsvYf+eWA8aYhm4JVewtfysk7O4OUw6Aq8iTcdgo7nL3TPMmLadRJQDVmjUC8yaeUDQ21ZPdJ2WUiMDXpUlGcTbgXSul1vLgsxHIUadLY8yZgxxruW4JySNomaL9C5kiOrgAFEqFwjqCPcz+ZkMeXiPKVKkvQfZWSE5YRBvPztN7SZA65NdwA4tFwfSZADPfaJ63AyqjnrI83jFcWJhZbWaZ04ib4E8hRoaCsWV64xoS9lrFGFGrtnlMn0oheyBKworLR0T78K9psq5QKOVMW1glTZkq5vBtKKqXcMdJ4vO8EbjkdAeyTKD0LXI/aHmXr6IEWKMGIWQ98JwyBGAFQGOe3Sc7aIqqw6/NTtnfYKchc5khR64acuBZj4RkJ978IpHfDfFb6K8/BHlAQbA+wpjz4znDojKh0FJxnCiukfJyX94sp9zvOA+kH0ju6HhOI1eQ8x0/XO9d6wj0XHjJQaeZ+JDs2++zkCZOY7E7ogyCC7i5iSqwDRQXQ=
  - secure: YExRrj1FpuSqT9Apqa2QNk3MhiV6w1d6lzgX0y5NMVcKdHn92GkMaTygH3YZ/87FKj4VF3q13WYnF+glP2SaJbJaemU3LuMh4yFu8Nd3UfH6a+UlXvXS1asFZNGC0o753FC9GDHEcs93oV2vVqsp5S9/8ru8C1zp/V7P8KnMrikyQO+/Z2jxvYTjU6WrvhaDkqHBwyseTS7TI6QnbVbOhbTbPslY3PfsQADTwRshBM/npYG9InAgEQH/qTAcRrtg+Imq33HZOiKxkjcifN2vrJeSyCGFaPikPS26tmZzAgLIkI4wbUiZjPImeFwTAO+/7c9cBGCbL2XUzDIN43QrTQ6FA4mu5IXTEkjiO6c6dB6ko0W/MjTMoTOav1hGAz5lCYCYhIRbXKVUTToNOAl289Kt07daCgouw9kMj+LAd7Z0EL1pHSadrniuzXb05+baXpaOrvCftFlIkWmJ1OTRhC5pfm6j3LXcFgg6MHu8xhfOf5UrCY5fPefSpWysr+4aHXhvWGbTOg0wUf1pjBaM8M0sQWTXJrXLal7VmY4opPm4YZ31WT5IVwl37q6796ubn+qEWMxG3nxWlBR+VGI3/tkBbd4YNZiM+t/sKtTkqB8nb0g7aiPHxJje0sxys36pCSW42vpEfbSSYeF9hEK6PMOQI23oAEX5On5Tr2fg/xs=
  - secure: ECtFa3FxThIQwwUDOK5kJ+HwyhA9GWFCWT6jWPuj/LZGT9e0yRYej3xRbQawyonA2TjdUd79Lpe8p9S+T+cOfuYkwM0WPBk0+0LmkjfFLqwl0BPa3YAO89QfF0OlqJSqfXyYcsMFypA7bcCMfSP8d4MjKP7EVNaDdX0qdkdoilnBZty3NOjY33VwTcAx1IDFnr85c2tn5XBVrdvkneUAl9Mf8XTzGKlVc87KgT/Nq5nbFMFt+Ojny29/TQy3FXflWBsGsXINrdQmOiAyDcHLoJDPEvrjdswod4ijndOm+6CqKdB1MiAJVuhvNR78qEikl+xb1YrIBqS3dN6qAtWrEAX+/aQesamdYjFNmkzSszTpufrUO62qNX5gzvY/MqP3aN04ERDc0wf4Y5r3m0O+OqWPj39YTOOWjw9G0yCXo4YVR7skl2FRjmNh5nyPzJrxyuTDSA9Va8zJNmU40lmxRG9nHQBIiX/UwLOAeF1+g3bwEOXnAJZ/7p+4y7MHetVq6C12a1CMpTFQIcKiOI2EtU/B17hyvITt2A2rqTiy9lmOiUlG02k8naAjqJybhe7s0L9drW17nN3CbGrO8PgE1N3bF/oqN7XO/sxaqDTkrVSPX5H0WvZ8ERQHCeCe9aUWMfTzNtPI09mB/WxfeiVNxA4/ad7p3vDZBYfXBH/J/6A=
  - secure: SC+pxdvreDkUT+xOYJDkx3Ygx6i0cbYMYemhMiA/DvTCwSXKZleyuJmOW2+zrV4HDEbw7R0ikzkFviMn63pJkBP7TAQPdy1qm1/rgKiASIqR1uOpkEMttQtSFacC9c5tinGdotjUGvogQz7q5m1RCTX7rSvkBtcDJdlBaMBylJhMWxZC5aSnAhm9PniMAhg8K9Eo4K4V3d7yJV8k6tx6L6Wyt4S9mC0fqcdxt4q1OdxSLfr3wcHI02aH9g72/24ErmZKTYEsz15ZA1QpL1EbHa6VylOs27a5gXZuyxfM+QRp971+Sj7fTds3EtwZCaiD+wGusVG7YGrkXVdt6fSQq/IJaNRI74qGIZCVKY8OSvWfvoHFd7sqRO50i7e9f9chYC90h7Ed16rHAxxJMeBWlAa2MHaRbeHPIl8yJyjaiYu2zz8YqaZz1tCnSdCoR1yfhqvD0B5i2Ok3ZauaKbkkBPG/XHzCd816+rZmNTrlL8YFJyTZOfhWjFCCYzQnDADwBF24CVOdfJfnQP1tkQs2SqVuwoyg4kebjNWKbcGal//D1h9mB6c/iF/3KCdQnvQHfb0V3QUuT+6myM2XWk+J2mNfOw8H+D1WTmRstGgl+hW0XouYILYD9UnEeGJQQ3aXsLK4iFu8+3ePD0AKO8F3/IDUWzjpMbWRVpFhWdxBp9c=
